import{q as p,r as u,W as b,j as e,Y as f}from"./app-DdQi-QVj.js";import{A as j}from"./DashboardLayout-DVYg_uCQ.js";import{_ as m}from"./index-DZtqulGZ.js";import{I as y}from"./IconX-9EDfQU5X.js";import{I as k}from"./IconPhoto-C7UNnNat.js";import{I as v}from"./IconCheck-CfloJXDv.js";import"./transition-CNCxwH2y.js";import"./keyboard-BqRqYy2S.js";function N({category:r}){const{errors:a}=p().props,[o,d]=u.useState(r.image||null),{data:n,setData:s,post:c,processing:l}=b({name:r.name,description:r.description,image:null,_method:"PUT"}),x=t=>{const i=t.target.files[0];i&&(s("image",i),d(URL.createObjectURL(i)))},g=()=>{s("image",null),d(r.image||null)},h=t=>{t.preventDefault(),c(route("categories.update",r.id),{onSuccess:()=>{Object.keys(a).length===0&&m.success("Kategori berhasil diperbarui!",{position:"top-right",style:{borderRadius:"10px",background:"#10B981",color:"#fff"}})},onError:()=>{m.error("Gagal memperbarui kategori. Silakan cek kembali data Anda.",{position:"top-right"})}})};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:`Edit ${r.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Edit Kategori"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Perbarui informasi kategori ",r.name]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:e.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gambar Kategori"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-xl",children:e.jsx("div",{className:"space-y-1 text-center",children:o?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:"Preview",className:"mx-auto h-40 w-40 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:g,className:"absolute -top-2 -right-2 p-1 bg-rose-500 rounded-full text-white hover:bg-rose-600",children:e.jsx(y,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(k,{className:"mx-auto h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white dark:bg-gray-700 rounded-md font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 focus-within:outline-none",children:[e.jsx("span",{children:"Upload gambar baru"}),e.jsx("input",{id:"image-upload",name:"image",type:"file",className:"sr-only",onChange:x,accept:"image/*"})]}),e.jsx("p",{className:"pl-1",children:"atau drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 2MB"})]})})}),a.image&&e.jsx("p",{className:"mt-2 text-sm text-rose-600 dark:text-rose-400",children:a.image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nama Kategori"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"name",id:"name",className:"block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Contoh: Elektronik",value:n.name,onChange:t=>s("name",t.target.value)})}),a.name&&e.jsx("p",{className:"mt-2 text-sm text-rose-600 dark:text-rose-400",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Deskripsi"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"description",name:"description",rows:4,className:"block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Deskripsi singkat tentang kategori ini",value:n.description,onChange:t=>s("description",t.target.value)})}),a.description&&e.jsx("p",{className:"mt-2 text-sm text-rose-600 dark:text-rose-400",children:a.description})]}),e.jsxs("div",{className:"flex justify-end pt-4 space-x-3",children:[e.jsx("a",{href:route("categories.index"),className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),e.jsx("button",{type:"submit",disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"-ml-1 mr-2 h-5 w-5"}),"Simpan Perubahan"]})})]})]})})]})]})}N.layout=r=>e.jsx(j,{children:r});export{N as default};
