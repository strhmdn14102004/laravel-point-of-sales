import{q as g,W as u,j as e,Y as x}from"./app-DdQi-QVj.js";import{C as f}from"./Card-DVwOK1Ps.js";import{d as b,A as h}from"./DashboardLayout-DVYg_uCQ.js";import{I as i}from"./Input-CMSA9cDM.js";import{B as j}from"./Button-Dd5f2MpV.js";import{C as v}from"./Checkbox-ZZJ2_PXK.js";import{_ as w}from"./index-DZtqulGZ.js";import{I as y}from"./IconPencilPlus-Bx3I2Hdc.js";import"./transition-CNCxwH2y.js";import"./keyboard-BqRqYy2S.js";function k(){const{roles:n,user:d}=g().props,{data:r,setData:l,post:m,errors:t}=u({name:d.name,email:d.email,password:"",password_confirmation:"",selectedRoles:d.roles.map(a=>a.name),_method:"PUT"}),c=a=>{let s=r.selectedRoles;s.some(o=>o===a.target.value)?s=s.filter(o=>o!==a.target.value):s.push(a.target.value),l("selectedRoles",s)},p=async a=>{a.preventDefault(),m(route("users.update",d.id),{onSuccess:()=>{w("Data berhasil disimpan",{icon:"👏",style:{borderRadius:"10px",background:"#1C1F29",color:"#fff"}})}})};return e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Ubah Data Pengguna"}),e.jsxs(f,{title:"Ubah Data Pengguna",icon:e.jsx(b,{size:20,strokeWidth:1.5}),footer:e.jsx(j,{type:"submit",label:"Simpan",icon:e.jsx(y,{size:20,strokeWidth:1.5}),className:"border bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-950 dark:border-gray-800 dark:text-gray-200 dark:hover:bg-gray-900"}),form:p,children:[e.jsxs("div",{className:"mb-4 flex flex-col md:flex-row justify-between gap-4",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(i,{type:"text",label:"Nama Pengguna",value:r.name,onChange:a=>l("name",a.target.value),errors:t.name})}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(i,{type:"email",label:"Email Pengguna",value:r.email,onChange:a=>l("email",a.target.value),errors:t.email,disabled:!0})})]}),e.jsxs("div",{className:"mb-4 flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(i,{type:"password",label:"Kata Sandi",value:r.password,onChange:a=>l("password",a.target.value),errors:t.password})}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(i,{type:"password",label:"Konfirmasi Kata Sandi",value:r.password_confirmation,onChange:a=>l("password_confirmation",a.target.value),errors:t.password_confirmation})})]}),e.jsx("div",{className:"p-4 rounded-t-lg border bg-white dark:bg-gray-950 dark:border-gray-900",children:e.jsx("div",{className:"flex items-center gap-2 font-semibold text-sm text-gray-700 dark:text-gray-400",children:"Akses Group"})}),e.jsxs("div",{className:"p-4 rounded-b-lg border border-t-0 bg-gray-100 dark:bg-gray-900 dark:border-gray-900",children:[e.jsx("div",{className:"flex flex-row flex-wrap gap-4",children:n.map((a,s)=>e.jsx(v,{label:a.name,value:a.name,onChange:c,defaultChecked:r.selectedRoles.some(o=>o===a.name)},s))}),t.selectedRoles&&e.jsx("div",{className:"text-xs text-red-500 mt-4",children:t.selectedRoles})]})]})]})}k.layout=n=>e.jsx(h,{children:n});export{k as default};
