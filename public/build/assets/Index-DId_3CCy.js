import{q as p,W as j,j as e,Y as b}from"./app-DdQi-QVj.js";import{b as f,A as k}from"./DashboardLayout-DVYg_uCQ.js";import{B as i,S as l}from"./Button-Dd5f2MpV.js";import{S as y}from"./Search-BLfy-Po4.js";import{T as r}from"./Table-CkDSmS4i.js";import{C as c}from"./Checkbox-ZZJ2_PXK.js";import{I as h}from"./IconTrash-Cnud6sX5.js";import{I as N}from"./IconPencilCog-eg_Z3hW2.js";import{I as T}from"./IconDatabaseOff-B6DRqI5H.js";import"./transition-CNCxwH2y.js";import"./keyboard-BqRqYy2S.js";import"./index-DZtqulGZ.js";import"./IconSearch-B7hL6Nyi.js";function v(){const{users:t}=p().props,{data:d,setData:o,delete:g,reset:C}=j({selectedUser:[]}),x=a=>{let s=d.selectedUser;s.some(n=>n===a.target.value)?s=s.filter(n=>n!==a.target.value):s.push(a.target.value),o("selectedUser",s)},m=async a=>{l.fire({title:"Apakah kamu yakin ingin menghapus data ini ?",text:"Data yang dihapus tidak dapat dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, tolong hapus!",cancelButtonText:"Tidak"}).then(s=>{s.isConfirmed&&(g(route("users.destroy",[a])),l.fire({title:"Success!",text:"Data berhasil dihapus!",icon:"success",showConfirmButton:!1,timer:1500}),o("selectedUser",[]))})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Pengguna"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx(i,{type:"link",href:route("users.create"),icon:e.jsx(f,{size:20,strokeWidth:1.5}),className:"bg-white text-gray-700 dark:bg-gray-950 dark:border-gray-800 dark:text-gray-200",label:"Tambah Data Pengguna",onClick:()=>o("isOpen",!0),added:!0}),d.selectedUser.length>0&&e.jsx(i,{type:"bulk",icon:e.jsx(h,{size:20,strokeWidth:1.5}),className:"border bg-rose-100 border-rose-300 text-rose-500 hover:bg-rose-200 dark:bg-rose-950  dark:border-gray-800 dark:hover:bg-rose-900",label:`Hapus ${d.selectedUser.length} data yang dipilih`,added:!0,onClick:()=>m(d.selectedUser)})]}),e.jsx("div",{className:"w-full md:w-4/12",children:e.jsx(y,{url:route("users.index"),placeholder:"Cari data berdasarkan nama pengguna atau email"})})]})}),e.jsx(r.Card,{title:"Data Pengguna",children:e.jsxs(r,{children:[e.jsx(r.Thead,{children:e.jsxs("tr",{children:[e.jsx(r.Th,{className:"w-10",children:e.jsx(c,{onChange:a=>{const s=t.data.map(n=>n.id.toString());o("selectedUser",a.target.checked?s:[])},checked:d.selectedUser.length===t.data.length})}),e.jsx(r.Th,{className:"w-10",children:"No"}),e.jsx(r.Th,{children:"Nama Pengguna"}),e.jsx(r.Th,{children:"Email"}),e.jsx(r.Th,{children:"Group Akses"}),e.jsx(r.Th,{})]})}),e.jsx(r.Tbody,{children:t.data.length?t.data.map((a,s)=>e.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-900",children:[e.jsx(r.Td,{children:e.jsx(c,{value:a.id,onChange:x,checked:d.selectedUser.includes(a.id.toString())},s)}),e.jsx(r.Td,{className:"text-center",children:++s+(t.current_page-1)*t.per_page}),e.jsx(r.Td,{children:a.name}),e.jsx(r.Td,{children:a.email}),e.jsx(r.Td,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:a.roles.map((n,u)=>e.jsx("span",{className:"rounded-full px-2.5 py-0.5 text-xs tracking-tight font-medium transition-colors focus:outline-none flex items-center gap-1 capitalize border border-teal-500/40 bg-teal-500/10 text-teal-500 hover:bg-teal-500/20",children:n.name},u))})}),e.jsx(r.Td,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"edit",icon:e.jsx(N,{size:16,strokeWidth:1.5}),className:"border bg-orange-100 border-orange-300 text-orange-500 hover:bg-orange-200 dark:bg-orange-950 dark:border-orange-800 dark:text-gray-300  dark:hover:bg-orange-900",href:route("users.edit",a.id)}),e.jsx(i,{type:"delete",icon:e.jsx(h,{size:16,strokeWidth:1.5}),className:"border bg-rose-100 border-rose-300 text-rose-500 hover:bg-rose-200 dark:bg-rose-950 dark:border-rose-800 dark:text-gray-300  dark:hover:bg-rose-900",url:route("users.destroy",a.id)})]})})]},s)):e.jsx(r.Empty,{colSpan:6,message:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center items-center text-center mb-2",children:e.jsx(T,{size:24,strokeWidth:1.5,className:"text-gray-500 dark:text-white"})}),e.jsx("span",{className:"text-gray-500",children:"Data pengguna"})," ",e.jsx("span",{className:"text-rose-500 underline underline-offset-2",children:"tidak ditemukan."})]})})})]})})]})}v.layout=t=>e.jsx(k,{children:t});export{v as default};
